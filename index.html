<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NSLC worker portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .input-group { @apply flex flex-col space-y-1.5 mb-6; }
        input, textarea { @apply w-full p-4 bg-white border border-slate-200 rounded-xl shadow-sm focus:ring-4 focus:ring-green-100 focus:border-green-500 outline-none transition-all text-slate-700; }
        label { @apply text-sm font-extrabold text-slate-500 uppercase tracking-wider ml-1; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">

    <header class="bg-white border-b border-slate-200 p-6 sticky top-0 z-50">
        <div class="max-w-md mx-auto flex items-center justify-between">
            <div>
                <h1 class="text-xl font-extrabold text-green-700 leading-none">LawnPro</h1>
                <p class="text-xs text-slate-400 mt-1 font-bold tracking-widest uppercase">Worker Portal</p>
            </div>
            <div class="h-10 w-10 bg-green-100 rounded-full flex items-center justify-center text-green-700 font-bold">
                NSLC
            </div>
        </div>
    </header>

    <main class="max-w-md mx-auto p-6 pb-24">
        
        <div class="space-y-2">
            
            <div class="input-group">
                <label>Worker Name</label>
                <input type="text" id="workerName" placeholder="e.g. Mike Smith">
            </div>

            <hr class="border-slate-200 mb-8 mt-2">

            <div class="input-group">
                <label>Customer Name</label>
                <input type="text" id="clientName" placeholder="e.g. Sarah Johnson">
            </div>

            <div class="input-group">
                <label>Job Address</label>
                <input type="text" id="address" placeholder="123 Greenway Ln">
            </div>

            <div class="input-group">
                <label>Services Performed</label>
                <textarea id="serviceList" rows="4" placeholder="Be specific: 'Mowed back, trimmed edges, blew clippings off driveway'"></textarea>
            </div>

            <div class="input-group">
                <label>Total Job Cost ($)</label>
                <input type="number" id="price" placeholder="0.00">
            </div>

            <button onclick="submitJob()" id="btn" class="w-full bg-green-600 hover:bg-green-700 active:scale-[0.98] text-white py-5 rounded-2xl font-extrabold text-lg shadow-xl shadow-green-200 transition-all flex items-center justify-center gap-2">
                <span id="btnIcon">ðŸ“¤</span>
                <span id="btnText">Submit & Sync</span>
            </button>
            
            <p class="text-center text-slate-400 text-xs mt-6">
                Data is shared instantly with the main spreadsheet.
            </p>
        </div>
    </main>

    <script>
        const WEB_APP_URL = "YOUR_URL_HERE"; // PASTE YOUR URL HERE

        async function submitJob() {
            const btn = document.getElementById('btn');
            const btnText = document.getElementById('btnText');
            const btnIcon = document.getElementById('btnIcon');
            
            const payload = {
                worker: document.getElementById('workerName').value,
                name: document.getElementById('clientName').value,
                address: document.getElementById('address').value,
                services: document.getElementById('serviceList').value,
                price: document.getElementById('price').value
            };

            if(!payload.name || !payload.worker) {
                alert("Please enter both Worker Name and Customer Name.");
                return;
            }

            // UI Loading State
            btnText.innerText = "Syncing...";
            btnIcon.innerText = "â³";
            btn.classList.replace('bg-green-600', 'bg-slate-400');
            btn.disabled = true;

            try {
                await fetch(WEB_APP_URL, {
                    method: "POST",
                    mode: "no-cors", 
                    headers: { "Content-Type": "text/plain" }, 
                    body: JSON.stringify(payload)
                });
                
                btnText.innerText = "Success!";
                btnIcon.innerText = "âœ…";
                btn.classList.replace('bg-slate-400', 'bg-emerald-500');
                
                setTimeout(() => {
                    location.reload(); 
                }, 1500);

            } catch (e) {
                alert("Sync Error: Check internet connection.");
                btn.disabled = false;
                btnText.innerText = "Retry Sync";
                btn.classList.replace('bg-slate-400', 'bg-red-500');
            }
        }
    </script>
</body>
</html>
